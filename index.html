<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Timer & Good Deeds App</title>
<style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    #passcode-modal { display: none; position: fixed; top: 50%; left: 50%;
        transform: translate(-50%, -50%); background: white; padding: 20px; border: 2px solid black; z-index: 10; }
    #overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 5; }
    button { margin: 5px; padding: 10px; }
</style>
</head>
<body>

<h1>Timer & Good Deeds App</h1>

<div>
    <p>Timer: <span id="timer-display">00:00</span> (<span id="timer-status">Running</span>)</p>
    <button id="pause-resume-btn">Pause/Resume</button>
</div>

<div>
    <p>Good Deeds: <span id="good-deeds-display">0</span></p>
    <button id="good-deed-btn">Add Good Deed</button>
</div>

<div>
    <button id="green-card-btn">Green Card</button>
    <button id="yellow-card-btn">Yellow Card</button>
    <button id="red-card-btn">Red Card</button>
</div>

<div id="message-box"></div>

<!-- Passcode Modal -->
<div id="overlay"></div>
<div id="passcode-modal">
    <h2>Enter Passcode</h2>
    <input type="password" id="passcode-input" placeholder="Enter passcode">
    <button id="passcode-btn">Submit</button>
    <p id="passcode-message" style="color:red;"></p>
</div>

<script>
window.addEventListener('load', () => {
    const elements = {
        timerDisplay: document.getElementById('timer-display'),
        goodDeedsDisplay: document.getElementById('good-deeds-display'),
        goodDeedBtn: document.getElementById('good-deed-btn'),
        greenCardBtn: document.getElementById('green-card-btn'),
        yellowCardBtn: document.getElementById('yellow-card-btn'),
        redCardBtn: document.getElementById('red-card-btn'),
        pauseResumeBtn: document.getElementById('pause-resume-btn'),
        passcodeModal: document.getElementById('passcode-modal'),
        passcodeInput: document.getElementById('passcode-input'),
        passcodeBtn: document.getElementById('passcode-btn'),
        passcodeMessage: document.getElementById('passcode-message'),
        messageBox: document.getElementById('message-box'),
        overlay: document.getElementById('overlay'),
        timerStatus: document.getElementById('timer-status')
    };

    let timer = 0;
    let timerRunning = true;
    let goodDeeds = 0;
    const passcode = "1234"; // Change to your desired passcode
    let unlocked = false;

    // Timer update
    function updateTimer() {
        if(timerRunning) {
            timer++;
            const minutes = String(Math.floor(timer / 60)).padStart(2, '0');
            const seconds = String(timer % 60).padStart(2, '0');
            elements.timerDisplay.textContent = `${minutes}:${seconds}`;
        }
    }
    setInterval(updateTimer, 1000);

    // Pause/Resume button
    elements.pauseResumeBtn.addEventListener('click', () => {
        timerRunning = !timerRunning;
        elements.timerStatus.textContent = timerRunning ? "Running" : "Paused";
    });

    // Good deed button
    elements.goodDeedBtn.addEventListener('click', () => {
        if(!unlocked) return showPasscodeModal();
        goodDeeds++;
        elements.goodDeedsDisplay.textContent = goodDeeds;
        showMessage("Good deed added!");
    });

    // Card buttons
    elements.greenCardBtn.addEventListener('click', () => { if(unlocked) showMessage("Green Card!"); else showPasscodeModal(); });
    elements.yellowCardBtn.addEventListener('click', () => { if(unlocked) showMessage("Yellow Card!"); else showPasscodeModal(); });
    elements.redCardBtn.addEventListener('click', () => { if(unlocked) showMessage("Red Card!"); else showPasscodeModal(); });

    // Show messages
    function showMessage(msg) {
        elements.messageBox.textContent = msg;
        setTimeout(() => { elements.messageBox.textContent = ""; }, 2000);
    }

    // Passcode modal
    function showPasscodeModal() {
        elements.passcodeModal.style.display = "block";
        elements.overlay.style.display = "block";
        elements.passcodeInput.value = "";
        elements.passcodeMessage.textContent = "";
        elements.passcodeInput.focus();
    }

    elements.passcodeBtn.addEventListener('click', () => {
        if(elements.passcodeInput.value === passcode) {
            unlocked = true;
            elements.passcodeModal.style.display = "none";
            elements.overlay.style.display = "none";
            showMessage("Unlocked!");
        } else {
            elements.passcodeMessage.textContent = "Incorrect passcode!";
        }
    });

    // Initially lock buttons
    unlocked = false;
});
</script>

</body>
</html>
